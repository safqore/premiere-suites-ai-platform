<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>Premiere Suites AI Agent Demo</title>
    <!DOCTYPE html>
    <html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width,initial-scale=1" />
        <title>Premiere Suites Chat</title>
        <link href="https://cdn.jsdelivr.net/npm/@n8n/chat/dist/style.css" rel="stylesheet" />
        <style>
            /* Add near top of existing <style> block */
            :root { --site-max:1920px; } /* adjust to PNG native width */

            /* Replace the existing body rule */
            body {
                margin:0;
                font-family: system-ui,-apple-system,"Segoe UI",Roboto,Ubuntu,sans-serif;
                background:#111; /* gutter color */
                overflow-x:hidden;
            }

            /* Add: keep screenshot centered, never upscale beyond native width, avoid stretch */
            body::before {
                content:"";
                position:fixed;
                inset:0;
                margin:0;
                background:
                    url('./premieresuites-website.png')
                    top center / 100% auto
                    no-repeat;
                left:50%;
                width: min(var(--site-max), 100vw);
                transform: translateX(-50%);
                background-color:#fff;
                pointer-events:none;
                z-index:-1;
            }

            /* Optional: if you want the chat toggle inset relative to image edge */
            .n8n-chat-toggle-button {
                bottom:24px;
                right: calc( max(24px, (100vw - min(var(--site-max), 100vw)) / 2 + 24px) );
            }

            @media (max-width: 600px) {
                .n8n-chat-toggle-button {
                    right:16px;
                    bottom:16px;
                }
            }

            :root {
                --chat--color-primary: #FFD13A;
                --chat--color-primary-shade-50: #FFD13A;
                --chat--color-primary-shade-100: #FFD13A;
                --chat--window--width: 420px;
                --chat--window--height: 600px;

                --chat--window--border-radius: 0px;
                --chat--window--box-shadow: none;

                /* Header styles */
                --chat--header--background: #FFD13A;
                --chat--header--color: #111;
                --chat--header--font-size: 1.1rem;
                --chat--header--font-weight: 700;
                --chat--header--align: left;
                --chat--heading--font-size: 1em;

                /* Chat bubble styles */
                --chat--bubble--border-radius: 8px;
                --chat--bubble--padding: 12px 16px;
                --chat--bubble--font-size: 1rem;

                /* Both agent and user bubbles: black bg, white text */
                --chat--bubble--user--background: #FFD13A !important;
                --chat--bubble--user--color: #111 !important;
                --chat--bubble--agent--background: #111;
                --chat--bubble--agent--color: #fff;

                /* Input styles */
                --chat--input--background: #fff;
                --chat--input--color: #111;
                --chat--input--border-radius: 8px;
                --chat--input--border: 1px solid #111;
                --chat--input--box-shadow: none;

                /* Button styles */
                --chat--button--background: #FFD13A;
                --chat--button--color: #111;
                --chat--button--border-radius: 8px;
                --chat--button--font-weight: 600;

                /* Footer and input area adjustments */
                --chat--footer--padding: 12px;
                --chat--footer--border-top: 1px solid #ddd;
                --chat--footer--background: #f5f5f5;

                /* Textarea specific styles */
                --chat--textarea--height: 42px;  /* Increased from 40px */
                --chat--textarea--padding: 8px 12px;
                --chat--textarea--background: #fff;
                --chat--textarea--border: 1px solid #ddd;
                --chat--textarea--border-radius: 6px;
                --chat--textarea--max-height: 120px;
                --chat--textarea--width: calc(100% - 60px); /* Increased space for button */
                --chat--textarea--margin-right: 8px; /* Add margin between textarea and button */

                /* Send button adjustments */
                --chat--send-button--background: #FFD13A !important;
                --chat--send-button--color: #111 !important;
                --chat--send-button--hover-background: #FFD13A !important;
                --chat--send-button--disabled-background: #e0e0e0 !important;
                --chat--send-button--disabled-color: #999 !important;
                --chat--send-button--size: 42px; /* Increased from 36px to match textarea */
                --chat--send-button--border-radius: 6px;
            }

            /* Add these custom styles after your :root block */
            .chat-footer {
                padding: var(--chat--footer--padding);
                background: var(--chat--footer--background);
                border-top: var(--chat--footer--border-top);
            }

            .chat-input textarea {
                background: var(--chat--textarea--background);
                border: var(--chat--textarea--border);
                border-radius: var(--chat--textarea--border-radius);
                padding: var(--chat--textarea--padding);
                max-height: var(--chat--textarea--max-height);
                width: var(--chat--textarea--width);
                margin-right: var(--chat--textarea--margin-right);
                overflow: hidden !important; /* Hide scrollbar */
                resize: none !important; /* Prevent manual resizing */
                min-height: var(--chat--textarea--height);
                box-sizing: border-box;
                height: var(--chat--textarea--height);
            }

            /* Update the chat inputs container */
            .chat-inputs {
                display: flex;
                align-items: center;
                gap: 8px;
            }

            /* Update the controls container */
            .chat-inputs-controls {
                display: flex;
                align-items: center;
                height: var(--chat--textarea--height);
            }

            .chat-input-send-button {
                width: var(--chat--send-button--size) !important;
                height: var(--chat--textarea--height) !important;
                min-height: var(--chat--textarea--height) !important;
                background: #FFD13A !important;
                color: #111 !important;
                border-radius: var(--chat--send-button--border-radius);
                transition: opacity 0.2s ease;
                border: none;
                cursor: pointer;
                display: flex;
                align-items: center;
                justify-content: center;
                flex-shrink: 0;
            }

            .chat-input-send-button:hover:not(:disabled) {
                opacity: 0.9;
                background: #FFD13A !important;
            }

            .chat-input-send-button:disabled {
                background: #e0e0e0 !important;
                color: #999 !important;
                cursor: not-allowed;
            }

            /* Update the SVG inside the button */
            .chat-input-send-button svg {
                width: 20px;
                height: 20px;
            }

            /* Ensure user message colors are applied */
            .chat-message.chat-message-from-user .chat-message-markdown {
                background-color: transparent !important;  /* Remove background from inner content */
                color: #111 !important;
            }

            .chat-message.chat-message-from-user .chat-message-actions {
                color: #111 !important;
            }

            /* Add this after your existing chat message styles */
            .chat-message.chat-message-from-user:not(.chat-message-transparent) {
                background-color: #FFD13A !important;
                border: none !important;
            }

            /* Add auto-resize functionality */
            .chat-input textarea::-webkit-scrollbar {
                display: none !important;
            }
        </style>
    </head>
    <body>
        <div id="n8n-chat"></div>

        <script type="module">
            import { createChat } from 'https://cdn.jsdelivr.net/npm/@n8n/chat/dist/chat.bundle.es.js';

            createChat({
                webhookUrl: 'http://localhost:5678/webhook/7cd78ada-6718-4b57-bd68-9bb7925e763e/chat',
                webhookConfig: {
                    method: 'POST',
                    headers: {}
                },
                target: '#n8n-chat',
                mode: 'window',
                chatInputKey: 'chatInput',
                chatSessionKey: 'sessionId',
                loadPreviousSession: true,
                metadata: {},
                showWelcomeScreen: false,
                defaultLanguage: 'en',
                initialMessages: [
                    'Hello, I’m your Premiere Suites AI Agent.',
                    'I can help you with booking inquiries, and general FAQs.',
                    'Try asking something like ‘Why should I choose premiere suites?’ or ‘What is included in a furnished apartment?’ to get started.'
                ],
                i18n: {
                    en: {
                        title: 'Chat with Us',
                        subtitle: "",
                        footer: '',
                        getStarted: 'New Conversation',
                        inputPlaceholder: 'Send a message',
                    },
                },
                enableStreaming: false,
            });

            document.addEventListener('DOMContentLoaded', () => {
                const textarea = document.querySelector('.chat-input textarea');
                if (textarea) {
                    textarea.addEventListener('input', function() {
                        this.style.height = 'var(--chat--textarea--height)';
                        this.style.height = this.scrollHeight + 'px';
                    });
                }
            });
        </script>

        <noscript>Please enable JavaScript to use the chat.</noscript>
    </body>
    </html>